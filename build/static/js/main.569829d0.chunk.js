(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(t,e,o){t.exports=o(28)},23:function(t,e,o){},28:function(t,e,o){"use strict";o.r(e);var i=o(0),n=o.n(i),r=o(3),l=o(12),a=o(13),c=o(16),d=o(14),s=o(17),u=(o(23),{todosAddItem:function(t){return{type:"ADD_TODOS_ITEM",item:{id:t.id,text:t.text,completed:t.completed}}},todosToggleItem:function(t){return{type:"TOGGLE_TODOS_ITEM",id:t.id}},todosFilterItem:function(t){return{type:"FILTER_TODOS_ITEM",visibilityFilter:t.visibilityFilter}},todosClearCompleted:function(t){return{type:"CLEAR_COMPLETED_ITEM",isCompleted:t.isCompleted}}}),p=o(5),f=function(t){function e(){var t,o;Object(l.a)(this,e);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(o=Object(c.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).inpVal=n.a.createRef(),o.state={},o.id=+localStorage.getItem("id")||0,o.addLocalStorage=function(t){if(!localStorage.getItem("todos")){var e=[];return e.push(t),localStorage.setItem("todos",JSON.stringify(e)),void localStorage.setItem("id",o.id+"")}var i=JSON.parse(localStorage.getItem("todos"));i.push(t),localStorage.setItem("todos",JSON.stringify(i)),localStorage.setItem("id",o.id+"")},o.handleAddTodos=function(){var t=o.id++,e=o.inpVal.current.value;if(e){var i={id:t,text:e,completed:!1};o.addLocalStorage(i),o.props.todosAddItem({id:t,text:e,completed:!1}),o.inpVal.current.value=""}else alert("\u6dfb\u52a0\u5185\u5bb9\u4e3a\u7a7a")},o.handleToggleItem=function(t){o.props.todosToggleItem({id:t})},o.handleShowAll=function(){o.props.todosFilterItem({visibilityFilter:"SHOW_ALL"})},o.handleShowCompleted=function(){o.props.todosFilterItem({visibilityFilter:"SHOW_COMPLETED"})},o.handleShowActive=function(){o.props.todosFilterItem({visibilityFilter:"SHOW_ACTIVE"})},o.handleClearCompleted=function(){o.props.todosClearCompleted({isCompleted:!0})},o}return Object(s.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){var t=this,e=this.state,o=e.todos,r=e.visibilityFilter,l={marginRight:"10px"},a={cursor:"pointer"},c={textDecoration:"line-through"};return n.a.createElement(i.Fragment,null,n.a.createElement("div",null,n.a.createElement("input",{ref:this.inpVal}),n.a.createElement("button",{onClick:this.handleAddTodos},"Add")),n.a.createElement("ul",null,o.map(function(e){return n.a.createElement("li",{key:e.id+e.text,style:e.completed?c:a,onClick:function(){return t.handleToggleItem(e.id)}},e.text)})),n.a.createElement("span",null,"Show: "),n.a.createElement("span",{style:l,className:r.includes("ALL")?"active":"",onClick:this.handleShowAll},"All"),n.a.createElement("span",{style:l,className:r.includes("COMPLETED")?"active":"",onClick:this.handleShowCompleted},"Completed"),n.a.createElement("span",{style:l,className:r.includes("ACTIVE")?"active":"",onClick:this.handleShowActive},"Active"),n.a.createElement("span",{style:l,onClick:this.handleClearCompleted},"Clear Completed"))}},{key:"componentDidMount",value:function(){var t=this;window.addEventListener("keydown",function(e){13===e.which&&t.handleAddTodos()},null)}}],[{key:"getDerivedStateFromProps",value:function(t){var e=t.visibilityFilter,o=t.todos;return e.includes("ALL")?{todos:o,visibilityFilter:e}:e.includes("COMPLETED")?{todos:o.filter(function(t){return!0===t.completed}),visibilityFilter:e}:e.includes("ACTIVE")?{todos:o.filter(function(t){return!0!==t.completed}),visibilityFilter:e}:void 0}}]),e}(i.Component),m=Object(p.b)(function(t){return{todos:t.Todos.todos,visibilityFilter:t.Todos.visibilityFilter}},u)(f),v=o(9),E="@@redux/INIT",h=function t(e,o,i){if("function"!==typeof e)throw new Error("reducer must be a function");if("function"===typeof o&&"undefined"===typeof i&&(i=o,o=void 0),"function"===typeof i)return i(t)(e,o);var n=o,r=[],l=!1,a=function(t){if("[object Object]"!==Object.prototype.toString.call(t))throw new Error("action must be a simple object");if("undefined"===typeof t.type)throw new Error("action type can not be a undefined");if(l)throw new Error("reducer can not call dispatch");try{l=!0,n=e(n,t)}finally{l=!1}r.forEach(function(t){return t()})};return a({type:E}),{getState:function(){return n},subscribe:function(t){return r.push(t),function(){r=r.filter(function(e){return e!==t})}},dispatch:a}}(function(t){var e={};for(var o in t){var i=t[o];i?e[o]=i:console.error("the reducer of ".concat(o," is undefined"))}for(var n in e)if("undefined"===typeof(0,e[n])(void 0,{type:E}))throw new Error("reducer can not return undefined at ".concat(n));return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,i={};for(var n in e){var r=e[n];i[n]=r(t[n],o)}return Object.assign({},t,i)}}({Counter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case"INCREMENT_COUNT":return t+1;case"DECREMENT_COUNT":return t-1;default:return t}},Todos:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{todos:JSON.parse(localStorage.getItem("todos"))||[],visibilityFilter:"SHOW_ALL"},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TODOS_ITEM":var o=[e.item].concat(Object(v.a)(t.todos));return Object.assign({},t,{todos:o});case"TOGGLE_TODOS_ITEM":var i=e.id;return(o=Object(v.a)(t.todos)).forEach(function(t){return t.id===i?t.completed=!t.completed:""}),localStorage.setItem("todos",JSON.stringify(o)),Object.assign({},t,{todos:o});case"FILTER_TODOS_ITEM":var n=e.visibilityFilter;return Object.assign({},t,{visibilityFilter:n});case"CLEAR_COMPLETED_ITEM":var r=e.isCompleted;return o=t.todos.filter(function(t){return t.completed!==r}),localStorage.setItem("todos",JSON.stringify(o)),Object.assign({},t,{todos:o});default:return t}}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Object(r.render)(n.a.createElement(p.a,{store:h},n.a.createElement(m,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.569829d0.chunk.js.map