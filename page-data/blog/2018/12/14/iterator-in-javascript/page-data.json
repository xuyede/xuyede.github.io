{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2018/12/14/iterator-in-javascript/","webpackCompilationHash":"0925914ec746f272ab75","result":{"data":{"markdownRemark":{"html":"<p>å¼€é—¨è§å±±åœ°è¯´:</p>\n<ul>\n<li>è¿™ç¯‡æ–‡ç« åªæ˜¯èŠä¸€ä¸‹<code class=\"language-text\">iterator</code>çš„åŸºç¡€çŸ¥è¯†</li>\n<li>å¦‚æœæƒ³å…¨é¢äº†è§£<code class=\"language-text\">iterator</code>æ˜¯ä»€ä¹ˆä¸œè¥¿,å¯ä»¥ç‚¹è¿™ [ <a href=\"http://es6.ruanyifeng.com/#docs/iterator\">é˜®ä¸€å³°è€å¸ˆçš„ES6å…¥é—¨</a> ]</li>\n</ul>\n<h2>Iteratoræ˜¯ä»€ä¹ˆ ? æœ‰ä»€ä¹ˆç”¨ ?</h2>\n<p>Iteratoræ˜¯ä»€ä¹ˆ?</p>\n<p><code class=\"language-text\">Iterator</code>æ˜¯ä¸€ä¸ªæä¾›ç»™å„ç§æ•°æ®ç»“æ„è®¿é—®çš„ç»Ÿä¸€æ¥å£, ç®€å•æ¥è¯´ , <code class=\"language-text\">iterator</code>å°±æ˜¯ä¸€ä¸ªæ¥å£ ğŸ˜‘</p>\n<p>ä½¿ç”¨<code class=\"language-text\">iterator</code>ä¸»è¦æœ‰ä¸‰ä¸ªä½œç”¨</p>\n<ul>\n<li>ä¸ºä¸€äº›æ•°æ®ç»“æ„ <code class=\"language-text\">Map,Set,Array,String...</code> æä¾›ä¸€ä¸ªç»Ÿä¸€çš„ç®€ä¾¿çš„è®¿é—®æ¥å£</li>\n<li>ä½¿æ•°æ®ç»“æ„çš„æˆå‘˜æŒ‰é¡ºåºæ’åº,å¯ä»¥é€šè¿‡ <code class=\"language-text\">next</code> å…³é”®å­—æŒ‰é¡ºåºè®¿é—®æ•°æ®ç»“æ„çš„æ•°æ®</li>\n<li>ä¾› <code class=\"language-text\">for...of</code> éå†æ¶ˆè´¹ (ä¸»è¦)</li>\n</ul>\n<h2>Iteratoræ€ä¹ˆç”¨ ?</h2>\n<p><strong>é‡ç‚¹åœ¨è¿™ ğŸ” : æ‰€æœ‰çš„éå†å™¨ <code class=\"language-text\">iterator</code> éƒ½æ˜¯ä»åä¸º <code class=\"language-text\">[Symbol.iterator]</code> çš„æ¥å£(æ–¹æ³•)å¼€å§‹å‡ºå‘çš„, ç„¶åè°ƒç”¨ <code class=\"language-text\">next</code> æ–¹æ³•æŒ‰é¡ºåºè¾“å‡ºæ•°æ®</strong> </p>\n<p>PS : ä¸Šé¢è¯´åˆ°äº† <code class=\"language-text\">[Symbol.iterator]</code> <code class=\"language-text\">next</code> , é‚£ä»€ä¹ˆæ˜¯ <code class=\"language-text\">[Symbol.iterator]</code>? ä»€ä¹ˆæ˜¯ <code class=\"language-text\">next</code>?</p>\n<ul>\n<li>\n<p>ä»€ä¹ˆæ˜¯ <code class=\"language-text\">[Symbol.iterator]</code></p>\n<ul>\n<li><code class=\"language-text\">[Symbol.iterator]</code>æ˜¯å¯åŠ¨éå†å™¨çš„å¼€å…³, å¦‚æœæ²¡æœ‰è¿™ä¸ªå¼€å…³, å°±ä¸å­˜åœ¨éå†å™¨ </li>\n<li><code class=\"language-text\">[Symbol.iterator]</code>åˆ†ä¸ºå…ˆå¤©çš„å’Œåå¤©çš„</li>\n</ul>\n</li>\n</ul>\n<p>é¦–å…ˆ , å…ˆå¤©çš„<code class=\"language-text\">[Symbol.iterator]</code>å­˜åœ¨åœ¨ä¸€äº›ç‰¹æ®Šçš„æ•°æ®ç»“æ„ä¸­, åŒ…æ‹¬ <code class=\"language-text\">Array</code> <code class=\"language-text\">String</code> <code class=\"language-text\">Map</code> <code class=\"language-text\">Set</code> <code class=\"language-text\">TypedArray</code> <code class=\"language-text\">arguments</code> <code class=\"language-text\">NodeList(dom)</code> <code class=\"language-text\">GeneratorObject</code>ç­‰ç­‰, å¦‚ä¸‹å›¾æ‰€ç¤º ğŸ‘‡</p>\n<p><a href=\"http://119.23.54.204/static/xyd_image/2018/12/14/1.png\"><img src=\"http://119.23.54.204/static/xyd_image/2018/12/14/1.png\"></a></p>\n<p>çœ‹åˆ°æ²¡, å°±æ˜¯è¿™ä¸ªä¸œè¥¿, åœ¨æˆ‘è¯´çš„é‚£å‡ ä¸ªæ•°æ®ç»“æ„ä¸­éƒ½æœ‰, ä¸ä¿¡çš„å¯ä»¥è‡ªå·±ä¸€ä¸ªä¸€ä¸ªå»è¯•è¯•</p>\n<p>ä½†æ˜¯, ä¸çŸ¥é“æœ‰æ²¡æœ‰å‘ç°, æˆ‘ä»¬æœ€å¸¸ç”¨çš„ <code class=\"language-text\">Object</code> æ˜¯æ²¡æœ‰ <code class=\"language-text\">[Symbol.iterator]</code>æ¥å£çš„ ğŸ‘‡</p>\n<p><a href=\"http://119.23.54.204/static/xyd_image/2018/12/14/2.png\"><img src=\"http://119.23.54.204/static/xyd_image/2018/12/14/2.png\"></a></p>\n<p>æ‰€ä»¥ <code class=\"language-text\">Object</code> æ˜¯ä¸èƒ½ä½¿ç”¨ <code class=\"language-text\">for...of</code> è¿›è¡Œéå†çš„ ğŸ‘‡</p>\n<p><a href=\"http://119.23.54.204/static/xyd_image/2018/12/14/3.png\"><img src=\"http://119.23.54.204/static/xyd_image/2018/12/14/3.png\"></a></p>\n<p>è™½ç„¶ <code class=\"language-text\">Object</code> æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥éå†, ä½†æ˜¯äº§å“ç»ç†å°±è¦ä½ ç”¨ <code class=\"language-text\">for ... of</code> éå† <code class=\"language-text\">Object</code> ğŸ™‡ , æ€ä¹ˆåŠ, è¿™å°±è¦è¯´åˆ°åå¤©çš„ <code class=\"language-text\">[Symbol.iterator]</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> val <span class=\"token keyword\">of</span> obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">Object</code> ä¸æ˜¯æ²¡æœ‰ <code class=\"language-text\">[Symbol.iterator]</code> æ–¹æ³•å—, æˆ‘ä»¬è‡ªå·±åŠ ä¸€ä¸ªä¸å°±è¡Œäº† ğŸ‘‡</p>\n<p><a href=\"http://119.23.54.204/static/xyd_image/2018/12/14/4.png\"><img src=\"http://119.23.54.204/static/xyd_image/2018/12/14/4.png\"></a></p>\n<p>çœ‹ ! ç°åœ¨ <code class=\"language-text\">obj</code> æ˜¯å¯éå†çš„äº† ( è¿™é‡Œçš„é”™è¯¯å…ˆä¸ç®¡, åé¢ä¼šè¯´åˆ° )</p>\n<ul>\n<li>ä»€ä¹ˆæ˜¯ <code class=\"language-text\">next</code></li>\n</ul>\n<p>ä¸Šé¢è¯´è¿‡ <code class=\"language-text\">iterator</code> ä» <code class=\"language-text\">[Symbol.iterator]</code> å¼€å§‹, é€šè¿‡ <code class=\"language-text\">next</code> æŒ‰é¡ºåºè¾“å‡ºæ•°æ®, æ‰€ä»¥, æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä» <code class=\"language-text\">[Symbol.iterator]</code> å‡ºå‘åçš„æ˜¯ä»€ä¹ˆä¸œè¥¿ ğŸ‘‡</p>\n<p><a href=\"http://119.23.54.204/static/xyd_image/2018/12/14/5.png\"><img src=\"http://119.23.54.204/static/xyd_image/2018/12/14/5.png\"></a></p>\n<p>å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹åˆ°, <code class=\"language-text\">[Symbol.iterator]</code> æ‰§è¡Œåä¼šè¿”å›ä¸€ä¸ªåŒ…å« <code class=\"language-text\">next</code> æ–¹æ³•çš„å¯¹è±¡</p>\n<p>æ‰€ä»¥ , <code class=\"language-text\">next</code> å°±æ˜¯ç”± <code class=\"language-text\">[Symbol.iterator]</code> æ‰§è¡Œåè¿”å›çš„ä¸€ä¸ªæ–¹æ³•, ä¸‹é¢æˆ‘ä»¬æ¥æ‰§è¡Œä¸€ä¸‹<code class=\"language-text\">next</code> ğŸ‘‡</p>\n<p><a href=\"http://119.23.54.204/static/xyd_image/2018/12/14/6.png\"><img src=\"http://119.23.54.204/static/xyd_image/2018/12/14/6.png\"></a></p>\n<p>æ¯æ¬¡æ‰§è¡Œ <code class=\"language-text\">next</code> éƒ½ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ <code class=\"language-text\">{value: xxx, done: xxx}</code></p>\n<p><code class=\"language-text\">value</code>ä¸ºéå†çš„æ•°æ®ç»“æ„çš„æ¯ä¸€ä½, <code class=\"language-text\">done</code> è¡¨ç¤ºæ˜¯å¦å®Œæˆéå†</p>\n<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å®Œå–„ä¸€ä¸‹ä¸Šé¢çš„é”™è¯¯äº†</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function-variable function\">next</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">const</span> isContinue <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0.75</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isContinue<span class=\"token punctuation\">)</span> \n                    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> \n                        value <span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`æ•°å­— </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">,</span> \n                        done <span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span> \n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> value <span class=\"token punctuation\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> done <span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> val <span class=\"token keyword\">of</span> obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>ç»“æœæ˜¯è¿™ä¸ª ğŸ‘‡</p>\n<p><a href=\"http://119.23.54.204/static/xyd_image/2018/12/14/7.png\"><img src=\"http://119.23.54.204/static/xyd_image/2018/12/14/7.png\"></a></p>\n<p>ber ~ è¿™æ ·å¯¹è±¡å°±ç®—æ²¡æœ‰ <code class=\"language-text\">[Symbol.iterator]</code> æ¥å£ä¹Ÿå¯ä»¥ä½¿ç”¨ <code class=\"language-text\">for ... of</code> å»éå†äº†</p>\n<hr>\n<ul>\n<li>ä»€ä¹ˆæ˜¯ <code class=\"language-text\">for ... of</code></li>\n</ul>\n<p>ä¸€ç›´åœ¨ç”¨ <code class=\"language-text\">for ... of</code>, é¡ºå¸¦æä¸€å˜´, <code class=\"language-text\">for ... of</code>æ˜¯ä»€ä¹ˆç©æ„</p>\n<p><code class=\"language-text\">for ... of</code>æ˜¯<code class=\"language-text\">ES6</code>çš„ä¸€ä¸ªæ–°éå†çš„æ–¹æ³•, ä¸”åªèƒ½éå†å…·æœ‰ <code class=\"language-text\">iterator</code> æ¥å£çš„æ•°æ®ç»“æ„, ä¹Ÿå°±æ˜¯è¦æœ‰ <code class=\"language-text\">[Symbol.iterator]</code>, è‡³äºè¿™ä¸ªéå†æœ‰ä»€ä¹ˆå¥½å¤„, å¤§å®¶å¯è‡ªè¡Œç™¾åº¦ä¸€ä¸‹</p>\n<h1>æ€»ç»“</h1>\n<p>æ‰€æœ‰çš„éå†å™¨ <code class=\"language-text\">iterator</code> éƒ½æ˜¯ä»åä¸º <code class=\"language-text\">[Symbol.iterator]</code> çš„æ¥å£(æ–¹æ³•)å¼€å§‹å‡ºå‘çš„, ç„¶åè°ƒç”¨ <code class=\"language-text\">next</code> æ–¹æ³•æŒ‰é¡ºåºè¾“å‡ºæ•°æ®</p>","frontmatter":{"mainTitle":"iteratoræ˜¯ä»€ä¹ˆ,æ€ä¹ˆç© ğŸ˜µ","date":"14 December, 2018","cover_image":{"publicURL":"/static/javascript-211a317d88d16a36875b0ba4b5e4ec85.jpg"}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/blog/2018/12/14/iterator-in-javascript/"}}}